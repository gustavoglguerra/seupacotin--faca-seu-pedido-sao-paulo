<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>Simulador de Pedido</title>
/* ===== VERS√ÉO MOBILE ===== */
@media (max-width: 768px) {

  body {
    padding: 10px;
  }

  table, thead, tbody, th, td, tr {
    display: block;
  }

  thead {
    display: none;
  }

  tr {
    margin-bottom: 20px;
    border: 1px solid #ddd;
    border-radius: 6px;
    padding: 10px;
    background: #fff;
  }

  td {
    border: none;
    text-align: left;
    padding: 6px 0;
  }

  td::before {
    content: attr(data-label);
    font-weight: bold;
    display: block;
    margin-bottom: 2px;
    color: #555;
  }

  input[type="number"] {
    width: 100%;
  }

  tfoot tr {
    background: #f0f0f0;
  }
}
#whatsappBtn {
  position: fixed;
  bottom: 20px;
  right: 20px;
  background: #25d366;
  color: white;
  font-size: 26px;
  width: 60px;
  height: 60px;
  border-radius: 50%;
  display: none;
  align-items: center;
  justify-content: center;
  text-decoration: none;
  box-shadow: 0 4px 10px rgba(0,0,0,0.3);
  z-index: 999;
}

#whatsappBtn:hover {
  background: #1ebe5d;
}

<style>
body {
  font-family: Arial, sans-serif;
  background: #f4f6f8;
  padding: 30px;
}

h1, h2 {
  text-align: center;
}

table {
  width: 100%;
  border-collapse: collapse;
  background: #fff;
  margin-bottom: 40px;
}

th, td {
  border: 1px solid #ddd;
  padding: 8px;
  text-align: center;
}

th {
  background: #f0f0f0;
}

input[type="number"] {
  width: 70px;
  padding: 4px;
}

tfoot td {
  font-weight: bold;
  background: #f9fafb;
}
</style>
</head>

<body>

<h1>Simulador de Pedido</h1>

<h2>Tabela de Pre√ßos (R$/milheiro)</h2>

<table>
<tr>
<th>Tamanho</th>
<th>Valor por milheiro</th>

</tr>

<tr><td>12x18 + 3ABA</td><td>27.90</td><td>1.7</td></tr>
<tr><td>15x25 + 3ABA</td><td>46.90</td><td>3.0</td></tr>
<tr><td>19x25 + 3ABA</td><td>59.90</td><td>3.4</td></tr>
<tr><td>20x30 + 3ABA</td><td>74.90</td><td>4.5</td></tr>
<tr><td>22x40 + 3ABA</td><td>105.90</td><td>6.8</td></tr>
<tr><td>25x35 + 3ABA</td><td>101.90</td><td>7.2</td></tr>
<tr><td>26x36 + 3ABA</td><td>105.90</td><td>7.4</td></tr>
<tr><td>25x45 + 3ABA</td><td>133.90</td><td>8.2</td></tr>
<tr><td>28x45 + 3ABA</td><td>149.90</td><td>9.2</td></tr>
<tr><td>30x40 + 3ABA</td><td>143.90</td><td>8.8</td></tr>
<tr><td>32x40 + 3ABA</td><td>152.90</td><td>10.6</td></tr>
<tr><td>36x45 + 3ABA</td><td>192.90</td><td>12.3</td></tr>
<tr><td>35x50 + 3ABA</td><td>207.90</td><td>11.8</td></tr>
<tr><td>40x50 + 3ABA</td><td>237.90</td><td>14.0</td></tr>
<tr><td>40x60 + 3ABA</td><td>283.90</td><td>16.9</td></tr>
<tr><td>50x60 + 3ABA</td><td>354.90</td><td>21.0</td></tr>
</table>

<h2>Calcular Pedido</h2>

<table id="calcTable">
<thead>
<tr>
<th>Tamanho</th>
<th>Qtd (mil)</th>
<th>Pre√ßo unit.</th>
<th>Valor total</th>
<th>Peso total</th>
</tr>
</thead>
<tbody></tbody>
<tfoot>
<tr>
<td colspan="3">TOTAL GERAL</td>
<td id="totalValor">R$ 0.00</td>
<td id="totalPeso">0.00 kg</td>
</tr>
</tfoot>
</table>

<script>
const produtos = [
["12x18 + 3ABA",31.59,29.49,27.64,1.7],
["15x25 + 3ABA",53.66,50.08,46.95,3.0],
["19x25 + 3ABA",67.98,63.45,59.48,3.4],
["20x30 + 3ABA",85.06,79.39,74.43,4.5],
["22x40 + 3ABA",123.26,115.04,107.85,6.8],
["25x35 + 3ABA",123.19,114.97,107.79,7.2],
["26x36 + 3ABA",131.63,122.85,115.18,7.4],
["25x45 + 3ABA",156.96,146.49,137.34,8.2],
["30x40 + 3ABA",168.14,156.93,147.13,8.8],
["28x45 + 3ABA",175.79,164.07,153.81,9.2],
["32x40 + 3ABA",179.29,167.33,156.88,10.6],
["40x40 + 3ABA",224.13,209.19,196.11,15.9],
["36x45 + 3ABA",225.99,210.92,197.74,12.3],
["35x50 + 3ABA",243.37,227.14,212.95,11.8],
["40x50 + 3ABA",278.14,259.60,243.38,20.0],
["40x60 + 3ABA",332.14,310.00,290.62,16.9],
["50x60 + 3ABA",415.18,387.50,363.28,23.2]
];

const tbody = document.querySelector("#calcTable tbody");

produtos.forEach((p,i)=>{
  const row = tbody.insertRow();
  row.innerHTML = `
  <td data-label="Tamanho">${p[0]}</td>
  <td data-label="Quantidade (mil)">
    <input type="number" min="0" oninput="calcular()">
  </td>
  <td data-label="Pre√ßo unit√°rio">-</td>
  <td data-label="Valor total">-</td>
  <td data-label="Peso total">-</td>
`;
});

function calcular() {
  let totalValor = 0;
  let totalPeso = 0;

  [...tbody.rows].forEach((row,i)=>{
    const qtd = Number(row.cells[1].children[0].value);
    if(!qtd){
      row.cells[2].innerText = "-";
      row.cells[3].innerText = "-";
      row.cells[4].innerText = "-";
      return;
     // ===== WHATSAPP =====
let mensagem = "üì¶ *Pedido de Envelopes*%0A%0A";
let temPedido = false;

[...tbody.rows].forEach((row,i)=>{
  const qtd = Number(row.cells[1].children[0].value);
  if(qtd > 0){
    temPedido = true;
    mensagem += `‚Ä¢ ${produtos[i][0]} ‚Äî ${qtd} mil ‚Üí ${row.cells[3].innerText}%0A`;
  }
});

mensagem += `%0Aüí∞ *Total:* ${document.getElementById("totalValor").innerText}`;
mensagem += `%0A‚öñÔ∏è *Peso:* ${document.getElementById("totalPeso").innerText}`;

const whatsappBtn = document.getElementById("whatsappBtn");

if(temPedido){
  whatsappBtn.style.display = "flex";
  whatsappBtn.href = "https://wa.me/5531990728646?text=" + mensagem;
} else {
  whatsappBtn.style.display = "none";
}
 
    }

    const p = produtos[i];
    const preco = qtd<=10 ? p[1] : qtd<=20 ? p[2] : p[3];

    const valor = preco*qtd;
    const peso = p[4]*qtd;

    row.cells[2].innerText = "R$ "+preco.toFixed(2);
    row.cells[3].innerText = "R$ "+valor.toFixed(2);
    row.cells[4].innerText = peso.toFixed(2)+" kg";

    totalValor += valor;
    totalPeso += peso;
  });

  document.getElementById("totalValor").innerText = "R$ "+totalValor.toFixed(2);
  document.getElementById("totalPeso").innerText = totalPeso.toFixed(2)+" kg";
}
</script>
<!-- Bot√£o WhatsApp -->
<a id="whatsappBtn" href="#" target="_blank">üì≤</a>

</body>
</html>
